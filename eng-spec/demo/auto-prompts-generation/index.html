
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../question-answering-with-expected-result/">
      
      
        <link rel="next" href="../../custom_parent/custom-evaluator/">
      
      
      <link rel="icon" href="../../../fontawesome/brands/github">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.8">
    
    
      
        <title>Auto Prompts Generation - YiVal</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="lightgreen" data-md-color-accent="purple">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#auto-prompts-generation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://yival.io" title="YiVal" class="md-header__button md-logo" aria-label="YiVal" data-md-component="logo">
      
  <img src="https://avatars.githubusercontent.com/u/134003593?s=400&u=34efa0d11568c1b5956f2e48dec7d15d95252a73&v=4" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            YiVal
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Auto Prompts Generation
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/YiVal/YiVal" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    YiVal/YiVal
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://yival.io" title="YiVal" class="md-nav__button md-logo" aria-label="YiVal" data-md-component="logo">
      
  <img src="https://avatars.githubusercontent.com/u/134003593?s=400&u=34efa0d11568c1b5956f2e48dec7d15d95252a73&v=4" alt="logo">

    </a>
    YiVal
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/YiVal/YiVal" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    YiVal/YiVal
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Eng Spec
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Eng Spec
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Demo
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Demo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../basic-interactive-mode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic Interactive Mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../question-answering-with-expected-result/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Question Answering with Expected Result
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Auto Prompts Generation
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Auto Prompts Generation
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flow-diagram" class="md-nav__link">
    Flow Diagram
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specifications" class="md-nav__link">
    Specifications
  </a>
  
    <nav class="md-nav" aria-label="Specifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-generator" class="md-nav__link">
    Data Generator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-function" class="md-nav__link">
    Custom Function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variations-generation" class="md-nav__link">
    Variations Generation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#human-rating-configuration" class="md-nav__link">
    Human Rating Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automated-evaluation-configuration" class="md-nav__link">
    Automated Evaluation Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selection-configuration" class="md-nav__link">
    Selection Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-enhancer" class="md-nav__link">
    Auto Enhancer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-enhancer-configuration" class="md-nav__link">
    Auto Enhancer Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#full-configuration" class="md-nav__link">
    Full Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Custom Classes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Custom Classes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../custom_parent/custom-evaluator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Evaluator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../custom_parent/custom-wrapper/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Wrapper
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../custom_parent/custom-data-generator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Data Generator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../custom_parent/custom-variation-generator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Variation Generator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../custom_parent/custom-reader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Reader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../custom_parent/custom-combination-enhancer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Combination Enhancer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../custom_parent/custom-selection-strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Selection Strategy
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Code Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Code Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../code_reference/data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../code_reference/data-generators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Generators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../code_reference/dataset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dataset
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../code_reference/evaluators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../code_reference/experiment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../code_reference/finetune/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Finetune
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../code_reference/output-parsers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Output Parsers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../code_reference/result-selectors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Result Selectors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../code_reference/configs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flow-diagram" class="md-nav__link">
    Flow Diagram
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specifications" class="md-nav__link">
    Specifications
  </a>
  
    <nav class="md-nav" aria-label="Specifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-generator" class="md-nav__link">
    Data Generator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-function" class="md-nav__link">
    Custom Function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variations-generation" class="md-nav__link">
    Variations Generation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#human-rating-configuration" class="md-nav__link">
    Human Rating Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automated-evaluation-configuration" class="md-nav__link">
    Automated Evaluation Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selection-configuration" class="md-nav__link">
    Selection Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-enhancer" class="md-nav__link">
    Auto Enhancer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-enhancer-configuration" class="md-nav__link">
    Auto Enhancer Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#full-configuration" class="md-nav__link">
    Full Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="auto-prompts-generation">Auto Prompts Generation<a class="headerlink" href="#auto-prompts-generation" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>This document describes the engineering specification auto prompt generation demo</p>
<h2 id="flow-diagram">Flow Diagram<a class="headerlink" href="#flow-diagram" title="Permanent link">&para;</a></h2>
<pre class="mermaid"><code>flowchart TD

    %% Data Generation Stage
    A[Start]
    A --&gt; |Data Generation| A1[Dataset]
    A1 --&gt; A2[DataGenerator]
    A2 --&gt; A3[OpenAI Prompt Data Generator]

    %% Create Combinations Stage
    A1 --&gt; |Create Combinations| B
    B --&gt; B1[OpenAI Prompt Based Variation Generator]
    B --&gt; B2[Set Combinations Manually]
    B --&gt; B3[List of Combinations]

    %% Evaluate Stage
    B3 --&gt; |Analysis| C
    C --&gt; C1[User's Function - Headline Generation]
    C --&gt; C2[Results from Function]
    A1 --&gt; C1

    %% Evaluator Stage
    C2 --&gt; |Evaluation| D
    D --&gt; D1[OpenAI Prompt Based Evaluator: clarity]
    D --&gt; D2[OpenAI Prompt Based Evaluator: catchiness]
    D --&gt; D3[OpenAI Prompt Based Evaluator: relevance]
    D --&gt; D4[OpenAI Elo Evaluator]

    %% Select Stage
    D --&gt; |Selection| E
    E --&gt; E1[Selection Strategy]
    E1 --&gt; E2[AHP Selection Strategy]

    %% Enhancer Stage
    E --&gt; |Improvement| F
    F --&gt; F1[OpenAI PromptBased Combination Enhancer]
    F1 --&gt; C

    %% Styling
    style A fill:#f9d77e,stroke:#f96e5b
    style B fill:#a1d4c6,stroke:#f96e5b
    style C fill:#f6c3d5,stroke:#f96e5b
    style D fill:#b2b1cf,stroke:#f96e5b
    style E fill:#f9efaa,stroke:#f96e5b
    style F fill:#f2a3b3,stroke:#f96e5b</code></pre>
<h2 id="specifications">Specifications<a class="headerlink" href="#specifications" title="Permanent link">&para;</a></h2>
<h3 id="data-generator">Data Generator<a class="headerlink" href="#data-generator" title="Permanent link">&para;</a></h3>
<p>We use open ai to help us generate test cases</p>
<div class="highlight"><pre><span></span><code><span class="nt">dataset</span><span class="p">:</span>
<span class="w">  </span><span class="nt">data_generators</span><span class="p">:</span>
<span class="w">    </span><span class="nt">openai_prompt_data_generator</span><span class="p">:</span>
<span class="w">      </span><span class="nt">chunk_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span>
<span class="w">      </span><span class="nt">diversify</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">input_function</span><span class="p">:</span>
<span class="w">        </span><span class="nt">description</span><span class="p">:</span>
<span class="w">          </span><span class="l l-Scalar l-Scalar-Plain">Given an tech startup business, generate a corresponding landing</span>
<span class="w">          </span><span class="l l-Scalar l-Scalar-Plain">page headline</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">headline_generation_for_tech_startup_business</span>
<span class="w">        </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">          </span><span class="nt">tech_startup_business</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">str</span>
<span class="w">      </span><span class="nt">number_of_examples</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">      </span><span class="nt">openai_model_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gpt-4</span>
<span class="w">      </span><span class="nt">output_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test_demo_generated_examples.pkl</span>
<span class="w">      </span><span class="nt">prompt</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<span class="w">        </span><span class="no">Please provide a concrete and realistic test case as</span>
<span class="w">        </span><span class="no">a dictionary for function invocation using the ** operator.</span>
<span class="w">        </span><span class="no">Only include parameters, excluding description and name and ensure</span>
<span class="w">        </span><span class="no">it&#39;s succinct and well-structured.</span>

<span class="w">        </span><span class="no">**Only provide the dictionary.**</span>

<span class="w">  </span><span class="nt">source_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">machine_generated</span>
</code></pre></div>
<ul>
<li><strong>diversify</strong>: Whether to diversify the generated results. If set to true,
                 parallel processing of data generation is not possible.</li>
<li><strong>input_function</strong>: Description and parameters for the function.</li>
<li><strong>number_of_examples</strong>: Number of examples to be generated.</li>
<li><strong>output_path</strong>: Temporary output path for the generated data. If this file exists,
                   the data will be read from it.</li>
<li><strong>prompt</strong>: The prompt used to generate the data.</li>
</ul>
<h3 id="custom-function">Custom Function<a class="headerlink" href="#custom-function" title="Permanent link">&para;</a></h3>
<p>The custom function for this mode is hosted on GitHub.
You can find and review it <a href="https://github.com/YiVal/YiVal/blob/master/src/yival/demo/headline_generation.py">here</a>.</p>
<p>In this function, we take in an input that represents tech startup business, and
will otuput headline for the landing page.</p>
<p>We make use of the <code>StringWrapper</code> to enclose placeholders intended for replacement,
based on the variations configuration. This wrapped string essentially serves
as a namespace:</p>
<div class="highlight"><pre><span></span><code>    <span class="nb">str</span><span class="p">(</span>
        <span class="n">StringWrapper</span><span class="p">(</span>
            <span class="n">template</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            Generate a landing page headline for </span><span class="si">{tech_startup_business}</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="p">,</span>
            <span class="n">variables</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;tech_startup_business&quot;</span><span class="p">:</span> <span class="n">tech_startup_business</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;task&quot;</span>
            <span class="p">)</span>
        <span class="p">)</span>
</code></pre></div>
<p>Within the <code>StringWrapper</code>, instead of a raw string, we utilize a template. This
template integrates both text and variables. The variables are encapsulated
within <code>{}</code> braces. In the example provided, the variable is <code>tech_startup_business</code>.</p>
<h3 id="variations-generation">Variations Generation<a class="headerlink" href="#variations-generation" title="Permanent link">&para;</a></h3>
<p>We have configured variations using both ChatGPT and manual settings.
Here's the configuration for ChatGPT:</p>
<div class="highlight"><pre><span></span><code><span class="nt">variations</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">task</span>
<span class="w">    </span><span class="nt">generator_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openai_prompt_based_variation_generator</span>
<span class="w">    </span><span class="nt">generator_config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">diversify</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">max_tokens</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7000</span>
<span class="w">      </span><span class="nt">number_of_variations</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">      </span><span class="nt">openai_model_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gpt-4</span>
<span class="w">      </span><span class="nt">output_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test_demo_generated_prompt.pkl</span>
<span class="w">      </span><span class="nt">prompt</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">content</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|-</span><span class="w"> </span>
<span class="w">            </span><span class="no">Prompt used to generate the varations. </span>
</code></pre></div>
<ul>
<li><strong>generator_name</strong>: Represents the class name of the generator.</li>
<li><strong>number_of_variations</strong>: Specifies the number of variations to be generated.</li>
<li><strong>output_path</strong>: This is the temporary storage location for the generated data.
                   If a file at this path exists, the data is read from it.</li>
<li><strong>prompt</strong>: The prompts used to generate the variation.</li>
</ul>
<p>For manual variations, the configuration is as follows:</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nt">variations</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">instantiated_value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generate landing page headline for {tech_startup_business}</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generate landing page headline for {tech_startup_business}</span>
<span class="w">        </span><span class="nt">value_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">str</span>
<span class="w">        </span><span class="nt">variation_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
</code></pre></div>
<p>This manual setup defines a specific way the variation will be presented.</p>
<h3 id="human-rating-configuration">Human Rating Configuration<a class="headerlink" href="#human-rating-configuration" title="Permanent link">&para;</a></h3>
<p>Below is the configuration for human ratings:</p>
<!-- markdownlint-disable MD013 -->
<div class="highlight"><pre><span></span><code><span class="nt">human_rating_configs</span><span class="p">:</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">clarity</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">instructions</span><span class="nt">: Evaluate the clarity of the headline</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Does it precisely convey the startup&#39;s purpose?</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">scale</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">5</span><span class="p p-Indicator">]</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">relevance</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">instructions</span><span class="nt">: Assess the relevance of the headline</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Is it pertinent to the subject matter?</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">scale</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">5</span><span class="p p-Indicator">]</span>
</code></pre></div>
<!-- markdownlint-enable MD013 -->

<p><strong>Explanation:</strong></p>
<ul>
<li><strong>name</strong>: Specifies the criterion for rating.</li>
<li><strong>instructions</strong>: Provides guidelines to the rater on how to evaluate the content
                    based on the defined criterion.</li>
<li><strong>scale</strong>: The rating scale, where <code>1</code> is the lowest and <code>5</code> is the highest.</li>
</ul>
<p>To better understand the configuration, refer to the screenshot below:</p>
<p><img alt="Human Rating Configuration Screenshot" src="https://github.com/YiVal/YiVal/assets/1544154/e1bb9e2b-c7b5-44ae-9ef6-19b8279e4f6b" /></p>
<p>Certainly! Here's the revised description taking into account the context you provided:</p>
<hr />
<h3 id="automated-evaluation-configuration">Automated Evaluation Configuration<a class="headerlink" href="#automated-evaluation-configuration" title="Permanent link">&para;</a></h3>
<p>Below is the setup for automated evaluations:</p>
<!-- markdownlint-disable MD013 -->
<div class="highlight"><pre><span></span><code><span class="nt">evaluators</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">evaluator_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<span class="w">    </span><span class="nt">input_description</span><span class="p">:</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">Given a tech startup business, produce a single corresponding landing</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">page headline</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openai_elo_evaluator</span>
<span class="w">    </span><span class="nt">openai_model_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gpt-4</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">evaluator_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">individual</span>
<span class="w">    </span><span class="nt">metric_calculators</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">AVERAGE</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openai_prompt_based_evaluator</span>
<span class="w">    </span><span class="nt">prompt</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<span class="w">      </span><span class="no">You&#39;re tasked with evaluating an answer for a specific criterion based on the following information:</span>
<span class="w">      </span><span class="no">- Task: Given a tech startup business, produce a single corresponding landing page headline</span>
<span class="w">      </span><span class="no">- Question: Does the headline clearly convey the startup&#39;s mission or the problem it addresses?</span>
<span class="w">        </span><span class="no">The headline should instantly provide clarity about the startup&#39;s objective to any reader. Ambiguities can deter potential users or investors.</span>
<span class="w">      </span><span class="no">[Input]: {tech_startup_business}</span>
<span class="w">      </span><span class="no">[Result]: {raw_output}</span>
<span class="w">      </span><span class="no">Kindly rate the response based on the following options:</span>
<span class="w">      </span><span class="no">A. Doesn&#39;t meet the criterion.</span>
<span class="w">      </span><span class="no">B. Partially meets the criterion with significant scope for enhancement.</span>
<span class="w">      </span><span class="no">C. Adequately meets the criterion.</span>
<span class="w">      </span><span class="no">D. Meets the criterion impressively.</span>
<span class="w">      </span><span class="no">E. Exemplarily meets the criterion, with negligible areas for improvement.</span>
<span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">clarity</span>
<span class="w">    </span><span class="nt">choices</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;A&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;B&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;D&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;E&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Does the headline lucidly articulate the startup&#39;s function or the issue it targets?</span>
<span class="w">    </span><span class="nt">scale_description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;0-4&quot;</span>
<span class="w">    </span><span class="nt">choice_scores</span><span class="p">:</span>
<span class="w">      </span><span class="nt">A</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">B</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">C</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">      </span><span class="nt">D</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">      </span><span class="nt">E</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
</code></pre></div>
<!-- markdownlint-enable MD013 -->

<p><strong>Explanation:</strong></p>
<ul>
<li><strong>evaluator_type</strong>: Designates the type of evaluation.<ul>
<li><code>all</code>: The evaluator considers all experiment results across all variations.
    It uses the elo algorithm and employs GPT-4 as the judge.</li>
<li><code>individual</code>: The evaluator focuses solely on the current variation's results.</li>
</ul>
</li>
<li><strong>input_description</strong>: Describes the type of input the model expects.</li>
<li><strong>name</strong>: Represents the evaluator's name or identifier.</li>
<li><strong>prompt</strong>: Provides the template and context for the automated evaluator
    to assess a given result.</li>
<li><strong>display_name</strong>: Specifies the displayed criterion name on the user interface.</li>
<li><strong>choices</strong>: Lists all possible rating options for the evaluator.</li>
<li><strong>description</strong>: Offers a brief description of the evaluation criterion.</li>
<li><strong>scale_description</strong>: Details the numeric scoring scale.</li>
<li><strong>choice_scores</strong>: Maps each choice to its respective numeric score.</li>
</ul>
<p>Certainly! Here's the polished description for the selection configuration:</p>
<hr />
<h3 id="selection-configuration">Selection Configuration<a class="headerlink" href="#selection-configuration" title="Permanent link">&para;</a></h3>
<p>Below is the setup detailing the selection strategy:</p>
<div class="highlight"><pre><span></span><code><span class="nt">selection_strategy</span><span class="p">:</span>
<span class="w">  </span><span class="nt">ahp_selection</span><span class="p">:</span>
<span class="w">    </span><span class="nt">criteria</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openai_elo_evaluator</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">average_token_usage</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">average_latency</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;openai_prompt_based_evaluator:</span><span class="nv"> </span><span class="s">clarity&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;openai_prompt_based_evaluator:</span><span class="nv"> </span><span class="s">relevance&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;openai_prompt_based_evaluator:</span><span class="nv"> </span><span class="s">catchiness&quot;</span>
<span class="w">    </span><span class="nt">criteria_maximization</span><span class="p">:</span>
<span class="w">      </span><span class="nt">openai_elo_evaluator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">average_latency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">average_token_usage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">criteria_weights</span><span class="p">:</span>
<span class="w">      </span><span class="nt">openai_elo_evaluator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.3</span>
<span class="w">      </span><span class="nt">average_latency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.2</span>
<span class="w">      </span><span class="nt">average_token_usage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.2</span>
<span class="w">      </span><span class="s">&quot;openai_prompt_based_evaluator:</span><span class="nv"> </span><span class="s">clarity&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>
<span class="w">      </span><span class="s">&quot;openai_prompt_based_evaluator:</span><span class="nv"> </span><span class="s">relevance&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>
<span class="w">      </span><span class="s">&quot;openai_prompt_based_evaluator:</span><span class="nv"> </span><span class="s">catchiness&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>
</code></pre></div>
<p><strong>Explanation:</strong></p>
<ul>
<li><strong>selection_strategy</strong>: Represents the overarching approach for making selections.</li>
<li><strong>ahp_selection</strong>: Specifies that the Analytic Hierarchy Process (AHP) algorithm
    is employed for the selection strategy.</li>
<li><strong>criteria</strong>: Lists the evaluators and metrics that are considered during
    the selection process.</li>
<li><strong>criteria_maximization</strong>: Indicates whether each criterion should be maximized.
    For instance,
    while a high score from the <code>openai_elo_evaluator</code> is desirable (<code>true</code>),
    a lower <code>average_latency</code> or <code>average_token_usage</code> is preferred (<code>false</code>).</li>
<li><strong>criteria_weights</strong>:
    Assigns a weight to each criterion,
    determining its importance in the overall evaluation.
    The weights sum up to 1, indicating the relative significance of each criterion
    in the final decision-making process.</li>
</ul>
<hr />
<h3 id="auto-enhancer">Auto Enhancer<a class="headerlink" href="#auto-enhancer" title="Permanent link">&para;</a></h3>
<p>Certainly! Here's the enhanced description, incorporating the additional information:</p>
<hr />
<h3 id="auto-enhancer-configuration">Auto Enhancer Configuration<a class="headerlink" href="#auto-enhancer-configuration" title="Permanent link">&para;</a></h3>
<p>Below is the setup detailing the auto enhancer strategy:</p>
<div class="highlight"><pre><span></span><code><span class="nt">enhancer</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openai_prompt_based_combination_enhancer</span>
<span class="w">  </span><span class="nt">max_iterations</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="nt">openai_model_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gpt-4</span>
<span class="w">  </span><span class="nt">stop_conditions</span><span class="p">:</span>
<span class="w">    </span><span class="s">&quot;openai_prompt_based_evaluator:</span><span class="nv"> </span><span class="s">catchiness&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">    </span><span class="s">&quot;openai_prompt_based_evaluator:</span><span class="nv"> </span><span class="s">clarity&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">    </span><span class="s">&quot;openai_prompt_based_evaluator:</span><span class="nv"> </span><span class="s">relevance&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
</code></pre></div>
<p><strong>Explanation:</strong></p>
<ul>
<li><strong>name</strong>: Specifies the identifier or the class of the enhancer.
    In this instance, <code>openai_prompt_based_combination_enhancer</code> is utilized.</li>
<li><strong>max_iterations</strong>: Designates the upper limit for the number of improvement cycles.
    The process will not exceed 2 iterations, irrespective of other conditions.</li>
<li><strong>openai_model_name</strong>:
    Indicates the model to be utilized for the improvement process,
    which here is <code>gpt-4</code>.</li>
<li><strong>stop_conditions</strong>:
    Outlines conditions under which the Enhancer should halt its operations
    before reaching the maximum iteration count.
    The improvement process will terminate if the average score
    from any of the specified evaluators surpasses 3.</li>
</ul>
<p>Additionally, it's important to note that during the improvement process, only
the best result from the previous selection step will be taken into consideration.
The idea is to refine and optimize this top-performing result further.</p>
<h3 id="full-configuration">Full Configuration<a class="headerlink" href="#full-configuration" title="Permanent link">&para;</a></h3>
<p>For a comprehensive view of all configurations related to the basic interactive mode,
you can review the full configuration file hosted <a href="https://github.com/YiVal/YiVal/blob/master/src/yival/demo/configs/auto_prompts_config.yml">here</a>.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.top", "header.autohide"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.81fa17fe.min.js"></script>
      
    
  </body>
</html>